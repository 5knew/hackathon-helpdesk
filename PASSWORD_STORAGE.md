# –ì–¥–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –ø–∞—Ä–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

## üìç –ú–µ—Å—Ç–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è

### 1. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö PostgreSQL
**–¢–∞–±–ª–∏—Ü–∞:** `users`  
**–ö–æ–ª–æ–Ω–∫–∞:** `password_hash` (VARCHAR(255))

–ü–∞—Ä–æ–ª–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ **–∑–∞—Ö–µ—à–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –≤–∏–¥–µ** (SHA-256), –Ω–µ –≤ –æ—Ç–∫—Ä—ã—Ç–æ–º –≤–∏–¥–µ!

### 2. –ú–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö
**–§–∞–π–ª:** `backend/models/user.py`

```python
class User(Base):
    __tablename__ = "users"
    
    id = Column(UUID(as_uuid=True), primary_key=True)
    email = Column(String(255), unique=True, nullable=False)
    name = Column(String(255), nullable=False)
    password_hash = Column(String(255), nullable=True)  # ‚Üê –ó–î–ï–°–¨ —Ö—Ä–∞–Ω–∏—Ç—Å—è —Ö–µ—à –ø–∞—Ä–æ–ª—è
    role = Column(String(20), default=UserRole.CLIENT.value)
```

### 3. –§—É–Ω–∫—Ü–∏—è —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è
**–§–∞–π–ª:** `backend/routers/auth.py`

```python
def hash_password(password: str) -> str:
    """–•–µ—à–∏—Ä—É–µ—Ç –ø–∞—Ä–æ–ª—å"""
    return hashlib.sha256(password.encode()).hexdigest()
```

## üîê –¢–µ–∫—É—â–∏–µ –ø–∞—Ä–æ–ª–∏

### –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä
- **Email:** `admin@helpdesk.com`
- **–ü–∞—Ä–æ–ª—å:** `admin123`
- **–•–µ—à:** SHA-256 –æ—Ç "admin123"
- **–ì–¥–µ —Å–æ–∑–¥–∞–µ—Ç—Å—è:** `backend/setup_db.py` (—Å—Ç—Ä–æ–∫–∞ 135-146)

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
- **Email:** `ibragim@gmail.com`
- **–ü–∞—Ä–æ–ª—å:** `admin`
- **–•–µ—à:** SHA-256 –æ—Ç "admin"
- **–ì–¥–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è:** `backend/update_password.py`

## üìù –°–∫—Ä–∏–ø—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø–∞—Ä–æ–ª—è–º–∏

1. **`backend/setup_db.py`** - —Å–æ–∑–¥–∞–µ—Ç –∞–¥–º–∏–Ω–∞ –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –ë–î
2. **`backend/restore_users.py`** - –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
3. **`backend/update_password.py`** - –æ–±–Ω–æ–≤–ª—è–µ—Ç –ø–∞—Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
4. **`backend/check_and_fix_db.py`** - –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∏ –∏—Å–ø—Ä–∞–≤–ª—è–µ—Ç –∞–¥–º–∏–Ω–∞

## ‚ö†Ô∏è –í–∞–∂–Ω–æ

- –ü–∞—Ä–æ–ª–∏ **–ù–ï —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –æ—Ç–∫—Ä—ã—Ç–æ–º –≤–∏–¥–µ** - —Ç–æ–ª—å–∫–æ —Ö–µ—à–∏ SHA-256
- –•–µ—à –Ω–µ–ª—å–∑—è —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∞—Ç—å –æ–±—Ä–∞—Ç–Ω–æ –≤ –ø–∞—Ä–æ–ª—å
- –ü—Ä–∏ –ø—Ä–æ–≤–µ—Ä–∫–µ –ø–∞—Ä–æ–ª—è –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è —Ö–µ—à –∏ —Å—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç—Å—è —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–º

## üîç –ö–∞–∫ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø–∞—Ä–æ–ª–∏ –≤ –±–∞–∑–µ

```python
# –í –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —Ö—Ä–∞–Ω–∏—Ç—Å—è —Ç–æ–ª—å–∫–æ —Ö–µ—à, –Ω–∞–ø—Ä–∏–º–µ—Ä:
# –ü–∞—Ä–æ–ª—å "admin123" ‚Üí —Ö–µ—à "240be518fabd2724ddb6f04eeb1da5967448d7e831c08c8fa822809f74c720a9"
# –ü–∞—Ä–æ–ª—å "admin" ‚Üí —Ö–µ—à "8c6976e5b5410415bde908bd4dee15dfb167a9c873fc4bb8a81f6f2ab448a918"
```

## üìÇ –§–∞–π–ª—ã —Å –ø–∞—Ä–æ–ª—è–º–∏

- `backend/models/user.py` - –º–æ–¥–µ–ª—å —Å –ø–æ–ª–µ–º password_hash
- `backend/routers/auth.py` - —Ñ—É–Ω–∫—Ü–∏–∏ —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –ø—Ä–æ–≤–µ—Ä–∫–∏
- `backend/setup_db.py` - —Å–æ–∑–¥–∞–Ω–∏–µ –∞–¥–º–∏–Ω–∞ (admin123)
- `backend/update_password.py` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `backend/restore_users.py` - –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

