+# План улучшения ML-сервиса маршрутизации (RU / KZ)
+
+Ниже перечислены практические направления развития модели, чтобы соответствовать ТЗ: автоматическая первичная обработка обращений, высокая точность классификации и поддержка русского и казахского языков.
+
+## 1) Датасет и разметка
+- RU: Соберите сбалансированный датасет по каналам (почта, чат, портал, телефония) с примерами для каждой категории/приоритета/типа проблемы. Дополните казахскими обращениями: минимум 25–30% корпуса.
+- KZ: Барлық арналардан (email, чат, портал, телефония) жиналған, әр категория/приоритет/проблема түрі бойынша мысалдары бар теңгерімді деректер жинағын дайындаңыз. Қазақша өтініштерді қосыңыз: корпус көлемінің кемінде 25–30%-ы.
+- RU: Нормализуйте дубликаты и создайте чёткие схемы меток (категория, приоритет, «тип проблемы»). Добавьте инструкции разметчикам для расплывчатых кейсов.
+- KZ: Қайталанатын жазбаларды жойып, анық белгілер схемасын жасаңыз (категория, приоритет, «проблема түрі»). Түсініксіз жағдайлар үшін аннотация нұсқаулығын қосыңыз.
+
+## 2) Модели и многоязычие
+- RU: Используйте мультиязычные трансформеры (например, `xlm-roberta-base` или `distiluse-base-multilingual-cased`) с дообучением на доменных данных; добавьте adversarial training для смешанных текстов (RU/KZ).
+- KZ: Көптілді трансформерлерді қолданыңыз (`xlm-roberta-base` немесе `distiluse-base-multilingual-cased`), домендік мәтіндерде қайталап оқытыңыз; аралас RU/KZ мәтіндері үшін adversarial training қолданыңыз.
+- RU: Введите язык-определитель (fastText/LID) для маршрутизации: если KZ — принудительно включайте казахские токенизаторы и проверки качества перевода.
+- KZ: Тілді автоматты анықтауды (fastText/LID) қосыңыз: KZ анықталса, қазақша токенизаторлар мен аударма сапасын тексеруді міндетті түрде қосыңыз.
+
+## 3) Многоуровневая классификация
+- RU: Разделите задачу на три головы: (а) категория (отдел), (б) приоритет (P1–P4), (в) тип проблемы (инцидент/запрос/FAQ). Используйте joint-learning, но с раздельными loss-весами.
+- KZ: Міндетті үш бөлікке бөліңіз: (а) категория (бөлім), (б) приоритет (P1–P4), (в) проблема түрі (инцидент/сұрау/FAQ). Joint-learning қолданыңыз, бірақ loss салмақтарын бөлек қойыңыз.
+- RU: Для FAQ добавьте dense retriever (например, `sentence-transformers`), а для инцидентов — классификатор; объедините ответы через confidence routing.
+- KZ: FAQ үшін dense retriever (`sentence-transformers`) қосыңыз, инциденттер үшін классификатор қолданыңыз; жауаптарды сенім деңгейі арқылы біріктіріңіз.
+
+## 4) Оценка качества и SLA
+- RU: Метрики: macro F1 по категориям, точность приоритета, recall для эскалаций, latency P95. Отдельные срезы RU/KZ и смешанных текстов.
+- KZ: Метрикалар: категориялар бойынша macro F1, приоритет дәлдігі, эскалациялар үшін recall, latency P95. RU/KZ және аралас мәтіндер бойынша бөлек есептеңіз.
+- RU: В тестах симулируйте «грязные» данные: опечатки, сленг, смешение языков. Это критично для производства.
+- KZ: Тесттерде «лас» деректерді қолданыңыз: қателер, сленг, аралас тіл. Өндіріс үшін маңызды.
+
+## 5) Автоматическое решение и подсказки
+- RU: Для 50% auto-close внедрите FAQ matching + генерацию ответов (LLM) с защитой от галлюцинаций: схемы разрешённых действий и шаблоны.
+- KZ: 50% auto-close үшін FAQ сәйкестендіру + жауап генерациясын (LLM) қолданыңыз; галлюцинацияны шектеу үшін рұқсат етілген әрекеттер схемасы мен шаблондарды пайдаланыңыз.
+- RU: Резюмирование диалогов и «draft reply» делайте через LLM с few-shot подсказками, разделяя инструкции для RU и KZ.
+- KZ: Диалогты қорытындылау және «draft reply» LLM арқылы few-shot промттарымен іске асырыңыз, RU және KZ үшін бөлек нұсқаулар жазыңыз.
+
+## 6) Эксплуатация и мониторинг
+- RU: Логируйте распределение классов и confidence; бейджи метрик на дашборде: точность классификации, % авто-решений, ошибки маршрутизации, среднее время ответа.
+- KZ: Кластар мен сенім деңгейінің үлесін логтаңыз; дашбордта метрикаларды көрсетіңіз: классификация дәлдігі, авто-шешімдер %, маршрутизация қателері, жауап уақыты.
+- RU: Настройте автоматическую эскалацию: если confidence < порога или текст «сложный кейс» — отправлять в профильный департамент с кратким резюме от модели.
+- KZ: Автоматты эскалация орнатыңыз: confidence табалдырығынан төмен болса немесе «күрделі кейс» анықталса — профильдік бөлімге модель жасаған қысқа резюме жіберіңіз.
+
+## 7) MLOps и стабильность
+- RU: Пайплайн: подготовка данных → обучение → валидация → упаковка → деплой; автоматические тесты на RU/KZ; контроль совместимости токенизаторов.
+- KZ: Пайплайн: дерек дайындау → оқыту → валидация → буып-түю → деплой; RU/KZ үшін автоматты тесттер; токенизаторлардың үйлесімділігін бақылаңыз.
+- RU: Онлайн-канареечные выкаты и rollback; алерты по SLA (latency/ошибки маршрутизации).
+- KZ: Онлайн canary деплой және rollback; SLA бойынша ескертулер (latency/маршрутизация қателері).
 
EOF
)